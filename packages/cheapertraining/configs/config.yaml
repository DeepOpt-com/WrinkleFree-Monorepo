# Main Hydra configuration for CheaperTraining
# Reference: MobileLLM-R1 (arXiv:2509.24945)

defaults:
  - _self_
  - influence: mixture
  - optimizer: muonclip  # Muon + QK-clipping (Kimi K2). Alternatives: muon, adam, apollo
  - override hydra/hydra_logging: disabled
  - override hydra/job_logging: disabled

# Global settings
seed: 42
output_dir: ./outputs
experiment_name: influence_training

# Logging
logging:
  log_interval: 100
  eval_interval: 1000
  wandb:
    enabled: true
    project: cheapertraining
    entity: null
    tags: []

# Checkpointing
checkpoint:
  save_interval: 1000
  keep_last_n: 3
  async_save: true
  resume_from: null

# Hydra configuration
hydra:
  run:
    dir: ${output_dir}/${experiment_name}/${now:%Y-%m-%d_%H-%M-%S}
  sweep:
    dir: ${output_dir}/${experiment_name}/sweeps
    subdir: ${hydra.job.num}
  job:
    chdir: false
