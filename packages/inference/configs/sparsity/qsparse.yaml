# Q-Sparse configuration for 1.58-bit BitNet models
# NOTE: 60% sparsity (top_k_ratio=0.4) requires Q-Sparse TRAINING
# For inference-only, use conservative config (top_k_ratio=0.7)
# Reference: https://arxiv.org/abs/2407.10969

# Inference-only safe config (30% sparsity, 0.99+ quality)
sparsity:
  enabled: true
  mode: "top_k"
  top_k_ratio: 0.7  # Keep 70% â†’ 30% sparsity (safe for inference-only)
  threshold: 0.01
  adaptive:
    min_ratio: 0.5
    max_ratio: 0.8
  track_stats: true

# AFTER Q-SPARSE TRAINING, use these values:
# sparsity:
#   top_k_ratio: 0.4  # 60% sparsity (Q-Sparse optimal for trained models)
